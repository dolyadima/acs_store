{% extends "base/base.html" %}
{% load static %}

{% block title %}
Products
{% endblock %}

{% block content %}
<div>
    <hr>
    <form action="." method="GET">
        {{ form.as_p }}
        <label for="id_title">Product:</label>
        <input id="id_title" type="text" name="title">

        <label>Category:</label>
        <select name="category">
            <option value='-1'>---</option>
            {% for cat in categories %}
            <option value='{{ cat.pk }}' {% if category_pk == cat.pk %} selected {% endif %}>{{ cat.title }}</option>
            {% endfor %}
        </select>
        <input type='submit' value='Filter'>
</form>
</div>

<div class="d-flex p-2">
<table class="table-bordered table-sm">
    <tr>
        <th>#</th>
        <th>Title</th>
        <th>Category</th>
        <th>Amount</th>
        <th>Price</th>
        <th>Shop</th>
    </tr>
    {% for product in products %}
    <tr>
        <td>{{forloop.counter}}</td>
        <td>{{product.title}}</td>
        <td>{{product.category}}</td>
        <td>{{product.amount}}</td>
        <td>{{product.price}}</td>
        <td>{{product.shop}}</td>
    </tr>
    {% endfor %}
</table>
</div>
{% endblock %}
